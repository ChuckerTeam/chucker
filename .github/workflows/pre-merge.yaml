name: Pre Merge Checks
on: [push, pull_request]

jobs:
  gradle:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Repo
      uses: actions/checkout@v2
    - name: Stale run canceller
      uses: yellowmegaman/gh-build-canceller@master
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
    - name: Run Gradle preMerge task
      run: ./gradlew clean ktlintCheck lint detekt build test
